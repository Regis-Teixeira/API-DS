BEGIN TRANSACTION;
GO

ALTER TABLE [Armas] ADD [PersonagemId] int NOT NULL DEFAULT 0;
GO

IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] ON;
INSERT INTO [Armas] ([Id], [Dano], [Nome], [PersonagemId])
VALUES (1, 35, N'Arco e Flecha', 1),
(2, 33, N'Espada', 2),
(3, 31, N'Machado', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] OFF;
GO

UPDATE [Usuarios] SET [PasswordHash] = 0x942088928C2DD2DBCAD5B6BB94C37CCDC74976BA45155C7FCAD0F9C5B7204A0F7285013C0A868125BFE143A1EAC1762BFAD42B2C8B10C33FFCC535222161ADEB, [PasswordSalt] = 0x5B80F590EFE6FA49E37D35384F85A41AFBB615D9514AC484E0CE16F809ED00E48810FDC6CA2B89DFFB0B89024F08816973F99262A2091879BD9DF148792AC88A995EAB6490E3CBD4F082AB47EBA1DC163C883FD546A734A44F70C88F72B35FF63038A024F9FE50DCE5EFAF713ABF4C283A0B992FD37C004A7878D2C7654A2636
WHERE [Id] = 1;
SELECT @@ROWCOUNT;

GO

CREATE INDEX [IX_Armas_PersonagemId] ON [Armas] ([PersonagemId]);
GO

ALTER TABLE [Armas] ADD CONSTRAINT [FK_Armas_Personagens_PersonagemId] FOREIGN KEY ([PersonagemId]) REFERENCES [Personagens] ([Id]) ON DELETE CASCADE;
GO

INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220408010833_MigracaoUmParaUm', N'5.0.15');
GO

COMMIT;
GO

